{% extends 'base.html' %}
{% load static %}
{% block title %}
{{ title }}
{% endblock title %}
{% block main %}
{% include 'gameshop/components/shop_banner.html' %}
{% load static %}

<!-- SHOP PAGE -->
<section class="py-4">
    <div class="container">
        <div class="row g-4">

            <!-- ========== LEFT SIDEBAR: FILTERS ========== -->
            {% include 'gameshop/components/shop_filters.html' %}

            <!-- ========== RIGHT: GRID ========== -->
            <main class="col-12 col-lg-9">
                <!-- Toolbar над сіткою ігор -->
                <div class="shop-toolbar d-flex flex-column gap-2 mb-4">
                    {% include 'gameshop/components/_sort.html' %}

                    <div class="mt-1">
                        {% include 'gameshop/components/_chips.html' %}
                    </div>
                </div>

                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                    {% for game in games %}
                    {% include 'gameshop/components/shop_cards.html' %}
                    {% empty %}
                    <div class="col">
                        <div class="alert alert-secondary">За обраними фільтрами нічого не знайдено.</div>
                    </div>
                    {% endfor%}
                </div>


                <!-- Pagination (right bottom) -->
                {% include 'gameshop/components/shop_paginator.html' %}
            </main>

        </div>
    </div>
</section>

<!-- Minimal styles to make filters neat; relies on Bootstrap 5 being loaded -->
<style>
    /* робимо сайдбар «липким», щоб не скакав */
    .sidebar-sticky { position: sticky; top: 90px; }

    /* акуратні мітки/чекбокси */
    .form-check-input:checked + .form-check-label { font-weight: 600; }
    .form-check-input:focus { box-shadow: none; }

    /* візуальна консистентність карток */
    .game-card .thumb { background: #f8f9fa; }
    .game-card .card-body { padding-bottom: 2.25rem; } /* місце під stretched-link */

    /* дрібні покращення */
    .badge.text-bg-danger { box-shadow: 0 2px 10px rgba(220,53,69,.2); }
</style>
{% endblock main %}